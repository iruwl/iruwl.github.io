{"componentChunkName":"component---src-templates-post-template-js","path":"/catetan/fungsi-row-to-json-postgresql/","webpackCompilationHash":"0ec51cc05352fff817bf","result":{"data":{"markdownRemark":{"id":"aaa28d6b-5490-5cd1-93a4-7bca9219ab78","html":"<p>Merupakan fungsi bawaan database <a href=\"https://www.postgresql.org/docs/9.2/functions-json.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PostgreSQL 9.2</a> dan versi selanjutnya yang dapat menghasikan format JSON dengan menjalankan sebuah query.</p>\n<h2 id=\"fungsi-row_to_json\"><a href=\"#fungsi-row_to_json\" aria-label=\"fungsi row_to_json permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fungsi row_to_json</h2>\n<table>\n<thead>\n<tr>\n<th>Function</th>\n<th>Description</th>\n<th>Example</th>\n<th>Example Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>row<em>to</em>json(record [, pretty_bool])</td>\n<td>Returns the row as a JSON object. Line feeds will be added between level-1 elements if pretty_bool is true.</td>\n<td>row<em>to</em>json(row(1,‘foo’))</td>\n<td>{“f1”:1,“f2”:“foo”}</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"contoh-penggunaan\"><a href=\"#contoh-penggunaan\" aria-label=\"contoh penggunaan permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contoh Penggunaan</h2>\n<p><strong># Tabel author</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\"> id | name\n----+-------\n  1 | Jaka\n  2 | Ahmad\n  3 | Putri\n  4 | Dani\n(4 rows)</code></pre></div>\n<p><strong># Tabel books</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\"> id | author_id |     title\n----+-----------+---------------\n  1 |         1 | Buku Jaka v1\n  2 |         1 | Buku Jaka v2\n  3 |         2 | Buku Ahmad v1\n  4 |         4 | Buku Putri v1\n  5 |         4 | Buku Putri v2\n  6 |         4 | Buku Putri v3\n  7 |         4 | Buku Putri v4\n(7 rows)</code></pre></div>\n<h3 id=\"--merubah-setiap-row-baris-menjadi-json-object\"><a href=\"#--merubah-setiap-row-baris-menjadi-json-object\" aria-label=\"  merubah setiap row baris menjadi json object permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>- Merubah setiap <em>row</em> (baris) menjadi <em>json object</em></h3>\n<p><strong>Query:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> row_to_json<span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> json <span class=\"token keyword\">from</span> author<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Hasil:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">        json\n-------------------------\n {&quot;id&quot;:1,&quot;name&quot;:&quot;Jaka&quot;}\n {&quot;id&quot;:2,&quot;name&quot;:&quot;Ahmad&quot;}\n {&quot;id&quot;:3,&quot;name&quot;:&quot;Putri&quot;}\n {&quot;id&quot;:4,&quot;name&quot;:&quot;Dani&quot;}\n(4 rows)</code></pre></div>\n<h3 id=\"--merubah-setiap-row-baris-menjadi-json-object-lalu-memasukannya-ke-dalam-array\"><a href=\"#--merubah-setiap-row-baris-menjadi-json-object-lalu-memasukannya-ke-dalam-array\" aria-label=\"  merubah setiap row baris menjadi json object lalu memasukannya ke dalam array permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>- Merubah setiap <em>row</em> (baris) menjadi <em>json object</em> lalu memasukannya ke dalam <em>array</em></h3>\n<p><strong>Query:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> array_to_json<span class=\"token punctuation\">(</span>array_agg<span class=\"token punctuation\">(</span>baris<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> json\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span> name <span class=\"token keyword\">from</span> author\n<span class=\"token punctuation\">)</span> baris<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Hasil:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">                                              json\n-------------------------------------------------------------------------------------------------\n [{&quot;id&quot;:1,&quot;name&quot;:&quot;Jaka&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;Ahmad&quot;},{&quot;id&quot;:3,&quot;name&quot;:&quot;Putri&quot;},{&quot;id&quot;:4,&quot;name&quot;:&quot;Dani&quot;}]\n(1 row)</code></pre></div>\n<p><strong>Format:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Jaka\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Ahmad\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Putri\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Dani\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"--contoh-yang-lebih-kompleks\"><a href=\"#--contoh-yang-lebih-kompleks\" aria-label=\"  contoh yang lebih kompleks permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>- Contoh yang lebih kompleks</h3>\n<p><strong>Query:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> row_to_json<span class=\"token punctuation\">(</span>baris<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> json\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">select</span> name <span class=\"token keyword\">as</span> author<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">select</span> array_to_json<span class=\"token punctuation\">(</span>array_agg<span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">select</span> title\n      <span class=\"token keyword\">from</span> books\n      <span class=\"token keyword\">where</span> books<span class=\"token punctuation\">.</span>author_id<span class=\"token operator\">=</span>author<span class=\"token punctuation\">.</span>id\n    <span class=\"token punctuation\">)</span> j\n  <span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> books\n  <span class=\"token keyword\">from</span> author\n  <span class=\"token keyword\">where</span> id<span class=\"token operator\">=</span><span class=\"token number\">4</span>\n<span class=\"token punctuation\">)</span> baris<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Hasil:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">                                                                json\n-------------------------------------------------------------------------------------------------------------------------------------\n {&quot;author&quot;:&quot;Dani&quot;,&quot;books&quot;:[{&quot;title&quot;:&quot;Buku Putri v1&quot;},{&quot;title&quot;:&quot;Buku Putri v2&quot;},{&quot;title&quot;:&quot;Buku Putri v3&quot;},{&quot;title&quot;:&quot;Buku Putri v4&quot;}]}\n(1 row)</code></pre></div>\n<p><strong>Format:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Dani\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"books\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Buku Putri v1\"</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Buku Putri v2\"</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Buku Putri v3\"</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Buku Putri v4\"</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"referensi\"><a href=\"#referensi\" aria-label=\"referensi permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Referensi</h2>\n<ul>\n<li><a href=\"https://blog.bigbinary.com/2018/05/29/generating-json-using-postgresql-json-function.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">blog.bigbinary.com</a></li>\n<li><a href=\"https://hashrocket.com/blog/posts/faster-json-generation-with-postgresql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">hashrocket.com</a></li>\n</ul>","fields":{"slug":"/catetan/fungsi-row-to-json-postgresql/","tagSlugs":["/label/postgresql/","/label/row-to-json/"]},"frontmatter":{"date":"2019-09-18","description":"Merupakan fungsi bawaan database PostgreSQL 9.2 dan versi selanjutnya yang dapat menghasikan format JSON dengan menjalankan sebuah query.","tags":["Postgresql","row_to_json"],"title":"Fungsi row_to_json PostgreSQL","socialImage":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/catetan/fungsi-row-to-json-postgresql/"}}}